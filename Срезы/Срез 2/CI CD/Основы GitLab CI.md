### ะะตัะฒัะน ะฑะปะพะบ
1. ะงัะพ ัะฐะบะพะต GitLab Runner ? ะะฐะบะธะต ะฒะธะดั ัะฐะฝะฝะตัะพะฒ ะฑัะฒะฐัั?  
**GitLab Runner**ยโ ััะพ ะฟัะธะปะพะถะตะฝะธะต, ะบะพัะพัะพะต ะฒัะฟะพะปะฝัะตั ะทะฐะดะฐะฝะธั (jobs) ะธะท CI/CD-ะฟะฐะนะฟะปะฐะนะฝะพะฒ GitLab. ะะฝ ัะฐะฑะพัะฐะตั ะบะฐะบ ะฐะณะตะฝั, ะบะพัะพััะน ะทะฐะฟััะบะฐะตั ะบะพะด (ะฝะฐะฟัะธะผะตั, ัะฑะพัะบั, ัะตััั, ะดะตะฟะปะพะน) ะฝะฐ ัะบะฐะทะฐะฝะฝะพะน ะผะฐัะธะฝะต (ะปะพะบะฐะปัะฝะพะน, ะฒะธัััะฐะปัะฝะพะน, ะฒ Docker ะธะปะธ Kubernetes).

GitLab Runner ะผะพะถะฝะพ ัะฐะทะดะตะปะธัั ะฟะพย**ัะธะฟั ะธัะฟะพะปะฝะตะฝะธั**ยะธย**ัะฟะพัะพะฑั ัะตะณะธัััะฐัะธะธ**:

**1. ะะพ ัะธะฟั ะธัะฟะพะปะฝะตะฝะธั (executor):**

- **Shell**ยโ ะทะฐะฟััะบะฐะตั ะบะพะผะฐะฝะดั ะฝะฐะฟััะผัั ะฒ shell (Bash, PowerShell).
-  **Docker**ยโ ะฒัะฟะพะปะฝัะตั ะทะฐะดะฐะฝะธั ะฒ Docker-ะบะพะฝัะตะนะฝะตัะฐั.
-  **Docker Machine**ยโ ะฐะฒัะพะผะฐัะธัะตัะบะธ ัะพะทะดะฐะตั ะฒะธัััะฐะปัะฝัะต ะผะฐัะธะฝั ั Docker (ะดะปั ะผะฐัััะฐะฑะธัะพะฒะฐะฝะธั).
-  **Kubernetes**ยโ ะทะฐะฟััะบะฐะตั ะทะฐะดะฐะฝะธั ะฒ Kubernetes-ะบะปะฐััะตัะต.
- **SSH**ยโ ะฒัะฟะพะปะฝัะตั ะบะพะผะฐะฝะดั ะฝะฐ ัะดะฐะปะตะฝะฝะพะน ะผะฐัะธะฝะต ะฟะพ SSH.
- **Parallels / VirtualBox**ยโ ะทะฐะฟััะบะฐะตั ะทะฐะดะฐัะธ ะฒ ะฒะธัััะฐะปัะฝัั ะผะฐัะธะฝะฐั.

**2. ะะพ ะพะฑะปะฐััะธ ะฒะธะดะธะผะพััะธ (scope):**

- **Shared Runners**ยโ ะพะฑัะธะต ัะฐะฝะฝะตัั, ะดะพัััะฟะฝัะต ะดะปั ะฒัะตั ะฟัะพะตะบัะพะฒ ะฒ GitLab.
- **Group Runners**ยโ ัะฐะฝะฝะตัั, ะดะพัััะฟะฝัะต ะดะปั ะฒัะตั ะฟัะพะตะบัะพะฒ ะฒ ะณััะฟะฟะต.
- **Project Runners**ยโ ะฟัะธะฒะฐัะฝัะต ัะฐะฝะฝะตัั, ะฟัะธะฒัะทะฐะฝะฝัะต ะบ ะบะพะฝะบัะตัะฝะพะผั ะฟัะพะตะบัั.

2. ะะฐะบะธะต ะตััั ััะธะณะณะตัั ะทะฐะฟััะบะฐ ะฟะฐะนะฟะปะฐะนะฝะพะฒ ะฒ GitLab CI?

ะะฐะนะฟะปะฐะนะฝั ะผะพะณัั ะทะฐะฟััะบะฐัััั ะฐะฒัะพะผะฐัะธัะตัะบะธ ะธะปะธ ะฒัััะฝัั. ะัะฝะพะฒะฝัะต ััะธะณะณะตัั:

1.ยยย **Push / Merge ะฒ ัะตะฟะพะทะธัะพัะธะน**ย(ะฟะพ ัะผะพะปัะฐะฝะธั):

oยยย git pushยะฒ ะฒะตัะบั (ะทะฐะฟััะบะฐะตั ะฟะฐะนะฟะปะฐะนะฝ ะดะปั ััะพะน ะฒะตัะบะธ).

oยยย ะกะพะทะดะฐะฝะธะต/ะพะฑะฝะพะฒะปะตะฝะธะต Merge Request (MR).

2.ยยย **Webhook-ัะพะฑััะธั**:

oยยย ะะฝะตัะฝะธะต ัะพะฑััะธั (ะฝะฐะฟัะธะผะตั, ะพะฑะฝะพะฒะปะตะฝะธะต ัะตะฟะพะทะธัะพัะธั, API-ะฒัะทะพะฒ).

3.ยยย **ะะฐัะฟะธัะฐะฝะธะต (Scheduled Pipelines)**:

oยยย ะะฐะฟััะบ ะฟะพ ัะฐัะฟะธัะฐะฝะธั (ะฝะฐะฟัะธะผะตั, ะฝะพัะฝัะต ัะตััั).

4.ยยย **ะััะฝะพะน ะทะฐะฟััะบ (Manual)**:

oยยย ะะฝะพะฟะบะฐย**"Run Pipeline"**ยะฒ GitLab.

oยยย ะะฐะฟััะบ ะบะพะฝะบัะตัะฝะพะณะพ ััะฐะฟะฐ (when: manualยะฒย.gitlab-ci.yml).

5.ยยย **API-ะทะฐะฟัะพั**:

oยยย ะะฐะฟััะบ ัะตัะตะท GitLab API (POST /projects/:id/pipeline).

6.ยยย **ะะทะผะตะฝะตะฝะธะต ัะฐะนะปะพะฒ (**changes**)**:

oยยย ะะฐะนะฟะปะฐะนะฝ ะทะฐะฟััะบะฐะตััั ัะพะปัะบะพ ะตัะปะธ ะธะทะผะตะฝะธะปะธัั ะพะฟัะตะดะตะปะตะฝะฝัะต ัะฐะนะปั:

rules:

ย - changes: [ "*.js" ]

7.ยยย **ะะฐะฒะธัะธะผะพััะธ ะพั ะดััะณะธั ะฟะฐะนะฟะปะฐะนะฝะพะฒ (Pipeline triggers)**:

oยยย ะะฐะฟััะบ ะฟะฐะนะฟะปะฐะนะฝะฐ ะฟะพัะปะต ะทะฐะฒะตััะตะฝะธั ะดััะณะพะณะพ.

---
### ะัะพัะพะน ะฑะปะพะบ ะฑะปะพะบ
1. ะะฐะบ ะฟะพะดะบะปััะธัั ะฝะพะฒัะน ัะฐะฝะฝะตั?
1.**ะฃััะฐะฝะพะฒะธัะต GitLab Runner**ยะฝะฐ ะฝัะถะฝัั ะผะฐัะธะฝั:
ะะปั Linux (ะฟัะธะผะตั ะดะปั Debian/Ubuntu)
curl -L https://packages.gitlab.com/install/repositories/runner/gitlab-runner/script.deb.sh | sudo bash
sudo apt-get install gitlab-runner
2.**ะะฐัะตะณะธัััะธััะนัะต ัะฐะฝะฝะตั**:
sudo gitlab-runner register
oยยย ะฃะบะฐะถะธัะต URL ะฒะฐัะตะณะพ GitLab instance (ะฝะฐะฟัะธะผะตั,ยhttps://gitlab.com)
oยยย ะะฒะตะดะธัะต ัะพะบะตะฝ ัะตะณะธัััะฐัะธะธ (ะฝะฐัะพะดะธััั ะฒยSettings โ CI/CD โ Runners)
oยยย ะัะฑะตัะธัะต ะธัะฟะพะปะฝะธัะตะปั (shell,ยdocker,ยkubernetesยะธ ั.ะด.)
oยยย ะะพะฑะฐะฒััะต ัะตะณะธ (ะตัะปะธ ะฝัะถะฝะพ) ะธ ะพะฟะธัะฐะฝะธะต.
3.**ะะฐะฟัััะธัะต ัะฐะฝะฝะตั**:
sudo gitlab-runner start

2. ะะฐะบ ัะดะตะปะฐัั ัะฐะบ, ััะพะฑั ะฟะฐะนะฟะปะฐะนะฝ ะทะฐะฟััะบะฐะปัั ัะพะปัะบะพ ะฟัะธ ะพัะบัััะธะธ MR ะฒ ะฒะตัะบั master?
ะัะฟะพะปัะทัะนัะต ะฟัะฐะฒะธะปะพยrulesยะธะปะธยonly/exceptยะฒย.gitlab-ci.yml:
ะะฐัะธะฐะฝั 1 (ัะพะฒัะตะผะตะฝะฝัะน, ัยrules):
job_name:
ย script: echo "This runs only on MR to master"
ย rules:
ยยย - if: '$CI_PIPELINE_SOURCE == "merge_request_event" && $CI_MERGE_REQUEST_TARGET_BRANCH_NAME == "master"'
ะะฐัะธะฐะฝั 2 (ัยonly):
job_name:
ย script: echo "This runs only on MR to master"
ย only:
ยยย - merge_requests
ย variables:
ยยย - $CI_MERGE_REQUEST_TARGET_BRANCH_NAME == "master"

3. ะะฐะบ ัะฐะฑะพัะฐัั ั ัะตะบัะตัะฐะผะธ ะฒ GitLab CI?
**ะัะฝะพะฒะฝัะต ะผะตัะพะดั:**

1.**CI/CD Variables**ย(ัะตะบะพะผะตะฝะดัะตััั)
- ะะพะฑะฐะฒััะต ะฟะตัะตะผะตะฝะฝัะต ะฒยSettings โ CI/CD โ Variables.
- ะัะผะตัััะตยMask variable, ััะพะฑั ัะบัััั ะทะฝะฐัะตะฝะธะต ะฒ ะปะพะณะฐั.
- ะัะฟะพะปัะทัะนัะต ะฒย.gitlab-ci.yml:
job_name:
ย script:
ยยย - echo $MY_SECRET
ยยย 
2.**ะคะฐะนะปั ั ัะตะบัะตัะฐะผะธ**ย(ะฝะฐะฟัะธะผะตั, ะดะปั ัะตััะธัะธะบะฐัะพะฒ)
- ะัะฟะพะปัะทัะนัะตยartifactsยะธะปะธยcacheยะดะปั ะฒัะตะผะตะฝะฝัั ัะฐะนะปะพะฒ.
- ะัะธะผะตั ั ะฟะตัะตะผะตะฝะฝะพะน:
job_name:
ย script:
ยยย - echo "$SSL_CERT" > cert.pem
ยยย - use_cert.sh cert.pem

3.**HashiCorp Vault**ย(ะดะปั Enterprise)
- ะะฝัะตะณัะฐัะธั ัะตัะตะทยCI_JOB_JWT:
job_name:
ย script:
ยยย - export SECRET=$(curl -H "X-Vault-Token: $VAULT_TOKEN" ...)

4.**ะะฐัะธัะตะฝะฝัะต ะฟะตัะตะผะตะฝะฝัะต**ย(ะดะปั protected branches/tags)
- ะะบะปััะธัะตยProtectedยะดะปั ะฟะตัะตะผะตะฝะฝะพะน ะฒ ะฝะฐัััะพะนะบะฐั.

ะะฐะถะฝะพ:
-ย ะะธะบะพะณะดะฐ ะฝะต ััะฐะฝะธัะต ัะตะบัะตัั ะฟััะผะพ ะฒ ัะตะฟะพะทะธัะพัะธะธ!
-ย ะัะฟะพะปัะทัะนัะตยMask variableยะดะปั ัััะพะบ ะธยFileยะดะปั ะฑะธะฝะฐัะฝัั ะดะฐะฝะฝัั.

---
##### ะะพะฟะพะปะฝะธัะตะปัะฝะพ:
-ยย ะะปั ะฟัะพะฒะตัะบะธ MR ะธัะฟะพะปัะทัะนัะตย$CI_MERGE_REQUEST_*ยะฟะตัะตะผะตะฝะฝัะต.
-ยย ะะปั Docker-ัะฐะฝะฝะตัะพะฒ ะฝะฐัััะพะนัะตยconfig.tomlยะดะปั ะฑะตะทะพะฟะฐัะฝะพะณะพ ััะฐะฝะตะฝะธั ัะตะบัะตัะพะฒ.
---
### ะขัะตัะธะน ะฑะปะพะบ
1. ะะฐะบ ะผะพะถะฝะพ ะฟะตัะตะธัะฟะพะปัะทะพะฒะฐัั ะบะพะด ะฟะฐะนะฟะปะฐะนะฝะพะฒ ะฒ GitLab CI? 
ะััั ะฝะตัะบะพะปัะบะพ ัะฟะพัะพะฑะพะฒ ะธะทะฑะตะถะฐัั ะดัะฑะปะธัะพะฒะฐะฝะธั ะบะพะดะฐ:
**๐น** **1.1. ะัะฟะพะปัะทะพะฒะฐะฝะธะต**ยinclude
ะะพะทะฒะพะปัะตั ะฟะพะดะบะปััะฐัั ะฒะฝะตัะฝะธะต YAML-ัะฐะนะปั (ะปะพะบะฐะปัะฝัะต ะธะปะธ ัะดะฐะปัะฝะฝัะต).
include:
ย - local: '/templates/.gitlab-ci-backend.yml'
ย - remote: 'https://example.com/ci-templates/frontend.yml'
ย - template: 'Auto-DevOps.gitlab-ci.yml'ย # ะฒัััะพะตะฝะฝัะต ัะฐะฑะปะพะฝั GitLab

**๐น** **1.2. ะฏะบะพัั (**anchors**) ะธ ะฐะปะธะฐัั (**aliases**)**
ะะพะทะฒะพะปััั ะพะฟัะตะดะตะปััั ะฟะพะฒัะพััััะธะตัั ะฑะปะพะบะธ:
.job_template: **&job_config**
ย script:
ยยย - echo "Running script"
ย rules:
ยยย - if: $CI_COMMIT_BRANCH == "main"

job1:
ย <<: ***job_config**
ย variables:
ยยย ENV: "prod"

job2:
ย <<: ***job_config**
ย variables:
ยยย ENV: "test"

**๐น** **1.3.**ยextendsย**ะดะปั ะฝะฐัะปะตะดะพะฒะฐะฝะธั**
ะะฝะฐะปะพะณะธัะฝะพ ะะะ, ะผะพะถะฝะพ ะฝะฐัะปะตะดะพะฒะฐัั ะบะพะฝัะธะณััะฐัะธั:
.tests:
ย script: rake test
ย rules:
ยยย - if: $CI_PIPELINE_SOURCE == "push"

rspec:
ย extends: .tests
ย script: rake rspec

**๐น** **1.4. ะัะฟะพะปัะทะพะฒะฐะฝะธะต**ย!reference
ะะพะทะฒะพะปัะตั ัััะปะฐัััั ะฝะฐ ัะฐััะธ ะดััะณะธั ะดะถะพะฑะพะฒ:
.setup:
ย script:
ยยย - echo "Setting up..."

.build:
ย script:
ยยย - !reference [.setup, script]
ยยย - echo "Building..."

2. ะะฐะบ ะทะฐะฟัััะธัั ััะฐะดะธะธ ะฟะฐะนะฟะปะฐะนะฝะฐ ะฟะฐัะฐะปะปะตะปัะฝะพ? ะ ะบะฐะบะธั ัะธััะฐัะธัั ะผะพะถะตั ะฟะพััะตะฑะพะฒะฐัััั ะฟะฐัะฐะปะปะตะปัะฝัะน ะทะฐะฟััะบ ััะฐะดะธะน ะฟะฐะนะฟะปะฐะนะฝะฐ?
ะะฐัะฐะปะปะตะปะธะทะผ ััะบะพััะตั ะฒัะฟะพะปะฝะตะฝะธะต ะฟะฐะนะฟะปะฐะนะฝะฐ, ะพัะพะฑะตะฝะฝะพ ะฟัะธ:
- **ะขะตััะธัะพะฒะฐะฝะธะธ**ย(ัะฐะทะฝัะต ะฒะธะดั ัะตััะพะฒ ะผะพะถะฝะพ ะทะฐะฟััะบะฐัั ะพะดะฝะพะฒัะตะผะตะฝะฝะพ).
-ย **ะกะฑะพัะบะต ะผัะปััะธะฟะปะฐััะพัะผะตะฝะฝัั ะฐััะตัะฐะบัะพะฒ**ย(Docker-ะพะฑัะฐะทั ะฟะพะด ัะฐะทะฝัะต ะะก).
- **ะะฐะทะฒััััะฒะฐะฝะธะธ ะฒ ะฝะตัะบะพะปัะบะพ ััะตะด**ย(dev, staging, prod).

**๐น** **2.1. ะะฐัะฐะปะปะตะปัะฝัะต ะดะถะพะฑั ะฒะฝัััะธ ััะฐะดะธะธ**
ะัะปะธ ะฝะตัะบะพะปัะบะพ ะดะถะพะฑะพะฒ ะฝะฐัะพะดัััั ะฒ ะพะดะฝะพะน ััะฐะดะธะธ, ะพะฝะธ ะฒัะฟะพะปะฝัััััย**ะฟะฐัะฐะปะปะตะปัะฝะพ**:
stages:
ย - test

test:unit:
ย stage: test
ย script: echo "Running unit tests"

test:integration:
ย stage: test
ย script: echo "Running integration tests"

**๐น** **2.2. ะะฐัะฐะปะปะตะปะธะทะผ ัะตัะตะท**ยparallel
ะะพะถะฝะพ ะทะฐะฟััะบะฐััย**ะพะดะธะฝ ะดะถะพะฑ ะฒ ะฝะตัะบะพะปัะบะธั ะฟะฐัะฐะปะปะตะปัะฝัั ัะบะทะตะผะฟะปััะฐั**:

test:
ย stage: test
ย script: ./run-tests.sh $CI_NODE_INDEX $CI_NODE_TOTAL
ย parallel: 5ย # ะทะฐะฟัััะธั 5 ะบะพะฟะธะน ะดะถะพะฑะฐ

**๐น** **2.3. ะะธะฝะฐะผะธัะตัะบะพะต ัะฐะทะฑะธะตะฝะธะต (**matrix**)**
ะะฐะฟััะบ ะดะถะพะฑะฐ ั ัะฐะทะฝัะผะธ ะฟะตัะตะผะตะฝะฝัะผะธ (GitLab 13.5+):

deploy:
ย stage: deploy
ย script: ./deploy.sh $ENV
ย parallel:
ยยย matrix:
ยยยยย - ENV: ["dev", "staging"]
ยยยยย - REGION: ["eu", "us"]