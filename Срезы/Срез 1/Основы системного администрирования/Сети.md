## Первый блок
1. **Уровни модели OSI**

Модель OSI состоит из **7 уровней**:

1.    **Физический (Physical)**: Передача битов через физическую среду (кабель, Wi-Fi).

o    Примеры: витая пара, оптоволокно, сигналы.

2.    **Канальный (Data Link)**: Формирование кадров (frames), управление доступом к среде (MAC-адресация), обнаружение ошибок.

o    Примеры: Ethernet, MAC-адреса, протокол ARP.

3.    **Сетевой (Network)**: Маршрутизация, логическая адресация (IP-адреса).

o    Примеры: IP, ICMP, маршрутизаторы.

4.    **Транспортный (Transport)**: Гарантированная доставка данных, управление потоками.

o    Примеры: TCP, UDP.

5.    **Сеансовый (Session)**: Управление сессиями (соединениями) между приложениями.

o    Примеры: RPC, NetBIOS.

6.    **Представительный (Presentation)**: Преобразование данных (шифрование, сжатие, кодировка).

o    Примеры: SSL/TLS, JPEG, ASCII.

7.    **Прикладной (Application)**: Интерфейс для взаимодействия с пользователем.

o    Примеры: HTTP, FTP, SMTP.

---

2. **Уровни модели TCP/IP**

Модель TCP/IP включает **4 уровня**:

1.    **Сетевой интерфейс (Network Interface)**: Аналог физического + канального уровней OSI.

2.    **Интернет (Internet)**: Соответствует сетевому уровню OSI.

3.    **Транспортный (Transport)**: Аналог транспортного уровня OSI.

4.    **Прикладной (Application)**: Объединяет прикладной, представительный и сеансовый уровни OSI.

**Отличия от OSI**:

·         TCP/IP более практична, используется в интернете.

·         В TCP/IP прикладной уровень объединяет три верхних уровня OSI.

·         В OSI строго разделены функции уровней, в TCP/IP допускается их пересечение.

---

3. **Протоколы по уровням OSI**

·         **Канальный**: Ethernet, MAC-адреса, ARP, VLAN.

·         **Сетевой**: IP (IPv4/IPv6), ICMP, OSPF, BGP.

·         **Транспортный**: TCP (гарантированная доставка), UDP (быстрая, но ненадёжная).

·         **Прикладной**: HTTP, DNS, FTP, SSH, SMTP.

---

4. **TCP vs UDP**

|**TCP**|**UDP**|
|---|---|
|Гарантирует доставку|Нет гарантии доставки|
|Управление потоком|Нет управления потоком|
|Установка соединения (3-way handshake)|Без установки соединения|
|Высокая надёжность|Высокая скорость|
|Примеры: веб-страницы, файлы|Примеры: стриминг, VoIP|

---

5. **Публичный и приватный IP-адрес**

·         **Публичный IP**: Уникальный адрес в интернете (например, 8.8.8.8). Назначается провайдером, маршрутизируется глобально.

·         **Приватный IP**: Адрес для локальной сети (например, 192.168.1.1, 10.0.0.1). Не маршрутизируется в интернете. Для выхода в интернет используется NAT.

![](file:///C:/Users/surov/AppData/Local/Temp/msohtmlclip1/01/clip_image002.png)

6. **Маска подсети**

Определяет, какая часть IP-адреса относится к сети, а какая — к хосту.

·         Пример:

o    IP: 192.168.1.10

o    Маска: 255.255.255.0 (или /24 в CIDR)

o    Сеть: 192.168.1.0

o    Диапазон хостов: 192.168.1.1–192.168.1.254.

---

7. **Инкапсуляция сетевых протоколов**

Процесс добавления заголовков к данным при движении вниз по уровням OSI.  
**Пример**:

1.    Приложение отправляет HTTP-запрос → данные + HTTP-заголовок (прикладной уровень).

2.    Транспортный уровень добавляет TCP-заголовок (порт источника/назначения).

3.    Сетевой уровень добавляет IP-заголовок (IP-адреса).

4.    Канальный уровень добавляет Ethernet-заголовок (MAC-адреса).

---

8. **Сетевой интерфейс**

Это точка подключения к сети (физическая или виртуальная).

·         Примеры: Ethernet-карта (eth0), Wi-Fi-адаптер (wlan0), виртуальный интерфейс (lo — loopback).

·         **Да**, у хоста может быть несколько интерфейсов (например, LAN и Wi-Fi).

---

9. **Порт (в терминах OSI)**

·         Это числовой идентификатор (0–65535) для определения приложения-получателя на транспортном уровне.

·         **Зачем нужен**: Чтобы несколько приложений могли работать с сетью одновременно (например, браузер использует порт 80, SSH — порт 22).

---

10. **DNS (Domain Name System)**

Это система преобразования доменных имён (например, google.com) в IP-адреса (например, 142.250.185.14).

·         Работает на прикладном уровне.

·         Использует протокол UDP (реже TCP) на порту 53.

·         Пример: Когда вы вводите youtube.com, DNS-сервер возвращает IP-адрес этого сайта.
## Второй блок
1.    **Протоколы сеансового уровня и уровня представления модели OSI**

o    **Сеансовый уровень**: Управляет сессиями между приложениями (установка, поддержка, завершение).  
Примеры протоколов:

§  **NetBIOS** (Network Basic Input/Output System).

§  **PPTP** (Point-to-Point Tunneling Protocol).

§  **RPC** (Remote Procedure Call).

§  **SIP** (Session Initiation Protocol).

o    **Уровень представления**: Отвечает за преобразование данных (шифрование, сжатие, кодирование).  
Примеры протоколов/технологий:

§  **TLS/SSL** (шифрование).

§  **JPEG, PNG, MPEG** (форматирование данных).

§  **ASCII/Unicode** (кодирование текста).

2.    **Зарезервированные диапазоны IP-адресов для локальных сетей**  
Следующие диапазоны зарезервированы для частных сетей (не маршрутизируются в интернете):

o    **10.0.0.0/8** (10.0.0.0 – 10.255.255.255).

o    **172.16.0.0/12** (172.16.0.0 – 172.31.255.255).

o    **192.168.0.0/16** (192.168.0.0 – 192.168.255.255).

3.    **Количество хостов в сети 192.168.1.0/24**

o    Маска подсети: **/24** (255.255.255.0).

o    Формула: 2(32−n)−22(32−_n_)−2, где n=24_n_=24.

o    Расчет: 2(32−24)−2=256−2=2542(32−24)−2=256−2=254 хоста.

o    Исключаются адреса сети (192.168.1.0) и широковещательный (192.168.1.255).

4.    **Типы DNS-записей**  
Основные типы:

o    **A**: IPv4-адрес.

o    **AAAA**: IPv6-адрес.

o    **CNAME**: Алиас для домена.

o    **MX**: Почтовый сервер.

o    **NS**: Серверы имен.

o    **TXT**: Произвольный текст (используется для проверок).

o    **PTR**: Обратная запись (IP → домен).

o    **SOA**: Начало зоны (информация о зоне DNS).

o    **SRV**: Сервисы (например, VoIP).

5.    **Маршрутизация в сетях**  
Это процесс определения оптимального пути передачи данных между узлами в сети. Маршрутизаторы используют таблицы маршрутизации для выбора направления пакетов на основе IP-адресов получателя.

6.    **Статическая vs динамическая маршрутизация**

o    **Статическая**: Маршруты задаются вручную администратором. Подходит для небольших сетей.

o    **Динамическая**: Маршруты обновляются автоматически через протоколы (OSPF, RIP, BGP). Подходит для крупных сетей с изменяющейся топологией.

7.    **NAT (Network Address Translation)**

o    **Что это**: Технология преобразования частных IP-адресов в публичные (и наоборот).

o    **Применение**:

§  Экономия IPv4-адресов (множество устройств используют один публичный IP).

§  Сокрытие внутренней структуры сети (безопасность).

§  Основные типы: **статический NAT**, **динамический NAT**, **PAT** (Port Address Translation).
## Третий блок
ls### 1. Как получить значение DNS записи в Linux?

Используйте команды `dig`, `nslookup` или `host`:

dig example.com          # A-запись

dig MX example.com       # MX-запись

nslookup example.com

host example.com

### 2. Как узнать адрес DNS-сервера в Linux?

- Проверьте файл `/etc/resolv.conf`:

  cat /etc/resolv.conf

- Используйте `systemd-resolve` (для систем с systemd):

  systemd-resolve --status

- Через `nmcli` (если используется NetworkManager):

  nmcli dev show | grep DNS

### 3. Как добавить статический маршрут в Linux?

- Временный маршрут (до перезагрузки):

  ```bash

  ip route add <сеть>/<маска> via <шлюз> dev <интерфейс>

  # Пример: ip route add 192.168.1.0/24 via 192.168.0.1 dev eth0

  ```

- Постоянный маршрут (зависит от дистрибутива):

  - **Debian/Ubuntu**: добавьте в `/etc/network/interfaces`:

    ```

    up ip route add 192.168.1.0/24 via 192.168.0.1 dev eth0

    ```

  - **RHEL/CentOS**: создайте файл в `/etc/sysconfig/network-scripts/route-<интерфейс>`.

### 4. Протоколы динамической маршрутизации

- **RIP** (Routing Information Protocol): для небольших сетей.

- **OSPF** (Open Shortest Path First): для крупных сетей, использует алгоритм Дейкстры.

- **BGP** (Border Gateway Protocol): для маршрутизации между автономными системами (интернет).

- **EIGRP** (Enhanced Interior Gateway Routing Protocol): проприетарный протокол Cisco.

- **IS-IS** (Intermediate System to Intermediate System): используется в крупных ISP.

### 5. Типы NAT

- **Static NAT**: сопоставление одного публичного IP с одним приватным (1:1).

- **Dynamic NAT**: пул публичных IP для нескольких приватных адресов.

- **PAT (Port Address Translation/NAT Overload)**: несколько устройств используют один публичный IP с разными портами.

- **Типы по поведению**: Full Cone, Restricted Cone, Port Restricted Cone, Symmetric NAT.

### 6. Как настроить NAT на Linux?

1. Включите форвардинг пакетов:

   ```bash

   sysctl -w net.ipv4.ip_forward=1

   # Для сохранения после перезагрузки добавьте в /etc/sysctl.conf:

   # net.ipv4.ip_forward=1

   ```

2. Настройте маскарадинг (PAT) через `iptables`:

   ```bash

   iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE

   ```

   Или используйте **SNAT**:

   ```bash

   iptables -t nat -A POSTROUTING -s 192.168.0.0/24 -j SNAT --to-source 1.2.3.4

   ```

3. Для **DNAT** (проброс портов):

   ```bash

   iptables -t nat -A PREROUTING -i eth0 -p tcp --dport 80 -j DNAT --to-destination 192.168.0.10:80

   ```

> **Примечание:** Для сохранения правил используйте `iptables-save` или перейдите на `nftables` (современная замена iptables).